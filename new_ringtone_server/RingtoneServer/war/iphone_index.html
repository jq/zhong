<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>FreeRingtone</title>
        <style type="text/css" media="screen">@import "/jqtouch/jqtouch.css";</style>
        
        <style type="text/css" media="screen">@import "themes/apple/theme.css";</style>
        <style type="text/css" media="screen">@import "themes/apple/addition.css";</style>
        
        
        <script src="/jqtouch/jquery-1.4.4.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="/jqtouch/jqtouch.js" type="application/x-javascript" charset="utf-8"></script>
        <script src="/js/iphone_search.js" type="application/x-javascript" charset="utf-8"></script>
        <script src="/js/iscroll.js" type="application/x-javascript" charset="utf-8"></script>
        
        <script type="text/javascript" charset="utf-8">
        var jQT = new $.jQTouch({
            icon: 'ringtone_icon.png',
            debug: false,
            preloadImages: [
              'themes/apple/img/backButton_clicked.png',
              'themes/apple/img/backButton.png',
              'themes/apple/img/blueButton.png',
              'themes/apple/img/cancel.png',
              'themes/apple/img/chevron.png',
              'themes/apple/img/grayButton.png',
              'themes/apple/img/selection.png',
              'themes/apple/img/listArrowSel.png',
              'themes/apple/img/whiteButton.png',
              'themes/apple/img/loading.gif'
            ]
        });

        $(function(){   
            $('.cate_link_item').bind('tapped', function(e){
            	var cate = $(e.target).attr("value");
            	fill_cate_page(cate);
            });
        });

        $(function(){   
            $('#email_button').bind('tap', function(e) {
				var email = $("#email_text").attr("value");
				var link = $("audio").attr("src");
				sendEmail(email, link);
            });
        });
        
            function setHeight($item) {
              var $wrapper = $item.find('.s-scrollwrapper');
              if ($wrapper.length > 0) {
                var headerH = 0;
                var footerH = 50;
                var tabbarH = 0;
                var wrapperH = 320;
		
                var $header = $item.find('.toolbar');
                headerH = $header.length > 0 ? ($header.outerHeight() > 0 ? $header.outerHeight() : 0) : 0;

                if ($item.attr("id") == "home") {
					headerH += $item.find('.searchbox').outerHeight();
                }
				  
                var $footer = $item.find('.navibar'); // page footer
                var $tabbar = $('#tabbar'); // global tabbar
                if ($footer.length > 0) {
                  footerH = $footer.outerHeight();
                } else if ($tabbar.length > 0) {
                  tabbarH = $tabbar.outerHeight(); 
                }

                // workaround limitation on outerHeight (ie, returns zero until animation ended)
                if (headerH > 0 || footerH > 0 || tabbarH > 0) {
                  wrapperH = window.innerHeight - headerH - footerH - tabbarH;
                  $wrapper.height(wrapperH);
                }

                // refresh scroll
                var scroll = $item.data('iscroll_object');
                if (scroll !== undefined && scroll !== null) {
                  scroll.refresh();
                }
              }
            }

            function setCurrentHeight() {
              setHeight($('.current'));
            }

            function loaded() {
              $('#jqt').children().each(function () {
                var $this = $(this);
                var $wrapper = $this.find('.s-scrollwrapper');
                var $pane = $wrapper.find('.s-scrollpane'); 
                if ($wrapper.length > 0) {
                  var scroll = new iScroll($pane[0].id, {desktopCompatibility: true});
                  $this.data('iscroll_object', scroll); 

                  // workaround limitation on outerHeight (ie, returns zero until animation ended)
                  // set a default for most common case to avoid resize being seen
                  wrapperH = window.innerHeight - 88;
                  $wrapper.height(wrapperH);

                  scroll.refresh();

                  $this.bind('pageAnimationEnd', function(event, info) {
                    if (info.direction == 'in') {
                      setHeight($(this));
                    }
                  });
                }
              });

              
            }

            if (window.navigator.standalone) {
              document.addEventListener('touchmove', function(e){ e.preventDefault(); }, true);
            }
            
            $(window).resize(function() {
              $('#jqt').children().each(function () {
                setHeight($(this));
              });
            });
            $(document).ready(function(){
              loaded();
              $(window).resize();

              setTimeout(function() {
                $(window).resize();
              }, 1500);
              
              if (!window.navigator.standalone) {
              	$('#hint').show();
              } else {
  				$('#hint').hide();
              }
              
            });

            
        </script>
        
        <style type="text/css" media="screen">
 
        </style>
        <style type="text/css" media="screen">
        </style>
    </head>
    
    <body>
    	<div id="jqt">
			<div id="home" class="current">
	    		<div class="toolbar">
	        		<h1>Free Ringtone</h1>
	    		</div>
	    		<div class="searchbox">
	      			<form id="search" action="" method="">
	        			<fieldset><input id="search-text" placeholder="search" type="text" />
	        			<input id="submit" type="hidden" /></fieldset>
	      			</form>
	    		</div>
	    		<div id="target-wrapper-Home" class="s-scrollwrapper"><div id="target-pane-Home" class="s-scrollpane">
	    		<ul class="rounded">
	        		<li class="arrow"><a id="cates" href="#categories">All Categories</a></li>
	        		<li class="arrow"><a href="#top_download">Top Donwload</a></li>
	        		<li class="arrow"><a href="#newest_add">Newest Add</a></li>
	    		</ul>
	    	    <div class="info">
      				<p>This is an iPhone Web application for download free ringtones!.</p>
      				<p>Version: 0.1beta</p>
      				<p id="hint" style="color:rgb(200,0,0);">Please add me into your home screen!</p>
    			</div>
	    		</div></div>
	    		<div id="footer">
	    		<script type="text/javascript"><!--
					window.googleAfmcRequest = {
					client: 'ca-mb-pub-8798798908578754',
					ad_type: 'text_image',
					output: 'html',
					channel: '',
					format: '320x50_mb',
					oe: 'utf8',
					color_border: '336699',
					color_bg: 'FFFFFF',
					color_link: '0000FF',
					color_text: '000000',
					color_url: '008000',
				};
				//--></script>
				<script type="text/javascript"
				src="http://pagead2.googlesyndication.com/pagead/show_afmc_ads.js"></script>
				</div>
			</div>
	
			<div id="search_result">
			    <div class="toolbar">
	        		<h1>Search Result</h1>
	        		<a href="#home" class="back">Back</a>
	    		</div>
	    		<div class="loader" style="display:none;"></div>
	    		<div id="target-wrapper-Search" class="s-scrollwrapper"><div id="target-pane-Search" class="s-scrollpane">
				 	 <ul class="rounded" id="results">
				 	 </ul>
				</div></div>
					    		<div id="footer">
				</div>
			</div>
			
			<div id="categories">
			  <div class="toolbar">
			    <h1>Categories</h1>
	        <a href="#home" class="back">Back</a>
	    	</div>
	    	<div id="target-wrapper-Cates" class="s-scrollwrapper"><div id="target-pane-Cates" class="s-scrollpane">
				<ul class="rounded" id="all_categories">
					<li class="arrow"><a class="cate_link_item" href="#category" value="Christian">Christian</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Metal">Metal</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Holiday">Holiday</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="R&B">R&B</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="World Music">World Music</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Pop">Pop</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Rock">Rock</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Games">Games</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Dance">Dance</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Rap">Rap</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Jazz">Jazz</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Hip-Hop">Hip-Hop</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Gospel">Gospel</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="TV">TV</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Hard Rock">Hard Rock</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Electronic">Electronic</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Latin Music">Latin Music</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Blues">Blues</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Sound Effects">Sound Effects</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Classical">Classical</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Comedy">Comedy</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Country">Country</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Movie">Movie</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Other">Other</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Hip">Hip</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Vocal">Vocal</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Folk">Folk</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Hard">Hard</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Gothic">Gothic</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Avantgarde">Avantgarde</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="unknown">unknown</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Acid">Acid</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Soundtrack">Soundtrack</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Soul">Soul</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Progressive">Progressive</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Acoustic">Acoustic</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Ska">Ska</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Booty">Booty</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Easy">Easy</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Satire">Satire</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Gangsta">Gangsta</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Oldies">Oldies</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Heavy">Heavy</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Southern">Southern</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Classic">Classic</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Disco">Disco</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Alt">Alt</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Reggae">Reggae</a></li>
					<li class="arrow"><a class="cate_link_item" href="#category" value="Funk">Funk</a></li>
				</ul>
				</div></div>
				<div id="footer">
				</div>
	   </div>
			
			<div id="category">
				<div class="toolbar">
					<h1></h1>
					<a href="#categories" class="back">Back</a>
				</div>
				<div class="loader" style="display:none;"></div>
				<div id="target-wrapper-Cate" class="s-scrollwrapper"><div id="target-pane-Cate" class="s-scrollpane">
				<ul class="rounded" id="results">
				</ul>
				</div></div>
				<div id="footer">
				</div>
			</div>
			
			<div id="top_download">
				<div class="toolbar">
					<h1>Top Download</h1>
					<a href="#" class="back">Back</a>
				</div>
				<div class="loader" style="display:none;"></div>
				<div id="target-wrapper-TopDownload" class="s-scrollwrapper"><div id="target-pane-TopDownload" class="s-scrollpane">
				<ul class="rounded" id="results">
				</ul>
				</div>
				</div>
				<div id="footer">
				</div>
			</div>
			
			<div id="newest_add">
				<div class="toolbar">
					<h1>Newest Add</h1>
					<a href="#" class="back">Back</a>
				</div>
				<div class="loader" style="display:none;"></div>
				<div id="target-wrapper-NewestAdd" class="s-scrollwrapper"><div id="target-pane-NewestAdd" class="s-scrollpane">
				<ul class="rounded" id="results">
				</ul>
				</div></div>
				<div id="footer">
				</div>
			</div>
			
			<div id="details">
				<div class="toolbar">
					<h1>Download</h1>
					<a href="#" class="back">Back</a>
				</div>
				<div id="target-wrapper-Details" class="s-scrollwrapper"><div id="target-pane-Details" class="s-scrollpane">
				<ul class="rounded" id="info">
					<li class="music_info">
						<a href="#">
							<img src="http://ringtone_image.s3.amazonaws.com/017d578d-baef-4ce0-8d07-aafdf15d7521thumb_122754_50.jpg">
							<span class="artist"></span>
							<span class="title"></span>
							<span class="download_count"></span>
							<span id="rate_star"></span>
							<audio controls="controls" class="player">
								Your browser does not support the audio element.
							</audio>
						</a>
					</li>
				</ul>
				<h3>Please input your email address and we will send you the link the the ringtone and the instructions to install it on your computer.</h3>
				<ul class="edit rounded" id="operate">
					<li><input type="email" name="email" placeholder="Please input your email here" id="email_text" /></li>
					<li><a href="#" class="whiteButton" id="email_button">Send Email</a></li>
				</ul>
				</div></div>
				<div id="footer">
				</div>
			</div>
		</div>
    </body>
</html>